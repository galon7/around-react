{"version":3,"sources":["utils/api.js","contexts/CurrentUserContext.js","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js","images/edit-img.png"],"names":["Api","options","this","_headers","headers","_baseUrl","baseUrl","res","ok","json","Promise","reject","status","fetch","then","_getResponseData","user","method","body","JSON","stringify","card","cardId","isLiked","avatar","api","authorization","CurrentUserContext","React","createContext","Header","className","Card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","src","link","alt","onClick","name","type","length","Main","onEditAvatarClick","onEditProfileClick","onAddPlaceClick","cards","handleCardLike","handleCardDelete","editPng","about","map","key","Footer","ImagePopup","isOpen","onClose","PopupWithForm","title","onSubmit","children","action","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","id","placeholder","minLength","maxLength","required","onChange","target","value","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","AddPlacePopup","onAddPlaceSubmit","inputTitleRef","inputLinkRef","App","isEditProfilePopupOpen","openEditProfilePopup","isAddPlacePopupOpen","openAddPlacePopup","isEditAvatarPopupOpen","openEditAvatarPopup","isImagePopupOpen","openImagePopup","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getUserInfo","data","catch","err","console","log","getInitialCards","Provider","changeLikeCardStatus","newCard","state","c","deleteCard","newCards","filter","userNew","editProfile","newUrl","updateAvatar","place","addCardApi","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.2b6b597c.chunk.js","sourcesContent":["class Api {\r\n  constructor(options) {\r\n    this._headers = options.headers;\r\n    this._baseUrl = options.baseUrl;\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(`Error: ${res.status}`);\r\n    }\r\n    return res.json();\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers,\r\n    }).then(this._getResponseData);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers,\r\n    }).then(this._getResponseData);\r\n  }\r\n\r\n  editProfile(user) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(user),\r\n    }).then(this._getResponseData);\r\n  }\r\n\r\n  addCardApi(card) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(card),\r\n    }).then(this._getResponseData);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._getResponseData);\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    if (isLiked) {\r\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n        method: \"PUT\",\r\n        headers: this._headers,\r\n      }).then(this._getResponseData);\r\n    } else {\r\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n        method: \"DELETE\",\r\n        headers: this._headers,\r\n      }).then(this._getResponseData);\r\n    }\r\n  }\r\n\r\n  updateAvatar(avatar) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(avatar),\r\n    }).then(this._getResponseData);\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: \"https://around.nomoreparties.co/v1/group-12\",\r\n  headers: {\r\n    authorization: \"e0cd9749-f008-4064-bc64-61e9ac8b0f57\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default Api;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__vector\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  // Checking if the current user is the owner of the current card\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  // Creating a variable which you'll then set in `className` for the delete button\r\n  const cardDeleteButtonClassName = `${\r\n    isOwn ? \"elements__delete-button_visible\" : \"elements__delete-button_hidden\"\r\n  }`;\r\n\r\n  // Check if the card was liked by the current user\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  // Create a variable which you then set in `className` for the like button\r\n  const cardLikeButtonClassName = `${isLiked ? \"elements__like-button_pressed\" : \"\"}`;\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  return (\r\n    <div className=\"elements__item\">\r\n      <img src={card.link} alt=\"Card\" className=\"elements__img\" onClick={handleClick} />\r\n      <button className={cardDeleteButtonClassName} onClick={handleDeleteClick} />\r\n      <div className=\"elements__content\">\r\n        <h2 className=\"elements__title\">{card.name}</h2>\r\n        <div className=\"elements__likes\">\r\n          <button\r\n            type=\"button\"\r\n            className={`elements__like-button ${cardLikeButtonClassName}`}\r\n            onClick={handleLikeClick}\r\n          />\r\n          <p className=\"elements__like-number\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport Card from \"./Card\";\r\nimport editPng from \"../images/edit-img.png\";\r\n\r\nfunction Main({\r\n  onEditAvatarClick,\r\n  onEditProfileClick,\r\n  onAddPlaceClick,\r\n  onCardClick,\r\n  cards,\r\n  handleCardLike,\r\n  handleCardDelete,\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n        <div>\r\n          <img\r\n            src={currentUser.avatar}\r\n            alt=\"Current user\"\r\n            className=\"profile__avatar\"\r\n            onClick={onEditAvatarClick}\r\n          />\r\n          <img src={editPng} alt=\"Edit\" className=\"profile__avatar-edit\" />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__info-header\">\r\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n            <button type=\"button\" className=\"profile__info-edit\" onClick={onEditProfileClick} />\r\n          </div>\r\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        </div>\r\n        <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlaceClick} />\r\n      </section>\r\n      <section className=\"elements\">\r\n        {cards.map((card) => (\r\n          <Card\r\n            key={card._id}\r\n            card={card}\r\n            onCardClick={onCardClick}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">Â© 2021 Around The U.S.</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup({ card, isOpen, onClose }) {\r\n  return (\r\n    <div className={`modal modal_img ${isOpen && \"modal_open\"}`}>\r\n      <div className=\"modal__container-img\">\r\n        <button type=\"button\" className=\"modal__close\" onClick={onClose} />\r\n        <figure className=\"modal__figure\">\r\n          <img src={card ? card.link : {}} alt=\"Selected card\" className=\"modal__image\" />\r\n          <figcaption className=\"modal__caption\" />\r\n        </figure>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm({ name, title, isOpen, onClose, onSubmit, children }) {\r\n  return (\r\n    <div className={`modal modal_type_${name} ${isOpen && \"modal_open\"}`}>\r\n      <div className=\"modal__container\">\r\n        <button type=\"button\" className=\"modal__close\" onClick={onClose} />\r\n        <h2 className=\"modal__title\">{title}</h2>\r\n        <form action=\"#\" onSubmit={onSubmit} className=\"modal__form\" name=\"modal-form\">\r\n          {children}\r\n          <button type=\"submit\" className=\"modal__submit-button\">\r\n            Save\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n\r\n  // After loading the current user from the API\r\n  // their data will be used in managed components.\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    // Prevent the browser from navigating to the form address\r\n    e.preventDefault();\r\n\r\n    // Pass the values of the managed components to the external handler\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-profile\"\r\n      title=\"Edit Profile\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        className=\"modal__input modal__input_field_name\"\r\n        id=\"name-input\"\r\n        placeholder=\"Full name\"\r\n        name={name}\r\n        minLength={2}\r\n        maxLength={40}\r\n        required\r\n        onChange={handleNameChange}\r\n      />\r\n      <span id=\"name-input-error\" className=\"modal__error-text\" />\r\n      <input\r\n        type=\"text\"\r\n        className=\"modal__input modal__input_field_profession\"\r\n        id=\"profession-input\"\r\n        placeholder=\"Description\"\r\n        name={description}\r\n        minLength={2}\r\n        maxLength={200}\r\n        required\r\n        onChange={handleDescChange}\r\n      />\r\n      <span id=\"profession-input-error\" className=\"modal__error-text\" />\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const inputRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: inputRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"change-avatar\"\r\n      title=\"Change profile picture\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        type=\"url\"\r\n        className=\"modal__input modal__input_field_profile-picture-link\"\r\n        id=\"profile-picture-link\"\r\n        placeholder=\"Profile picture link\"\r\n        name=\"avatar\"\r\n        required\r\n        ref={inputRef}\r\n      />\r\n      <span id=\"profile-picture-link-error\" className=\"modal__error-text\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlaceSubmit }) {\r\n  const inputTitleRef = React.useRef();\r\n  const inputLinkRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlaceSubmit({\r\n      name: inputTitleRef.current.value,\r\n      link: inputLinkRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-card\"\r\n      title=\"New place\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        className=\"modal__input modal__input_field_title\"\r\n        id=\"card-title-input\"\r\n        placeholder=\"Title\"\r\n        name=\"Title\"\r\n        minLength=\"1\"\r\n        maxLength=\"30\"\r\n        required\r\n        ref={inputTitleRef}\r\n      />\r\n      <span id=\"card-title-input-error\" className=\"modal__error-text\"></span>\r\n      <input\r\n        type=\"url\"\r\n        className=\"modal__input modal__input_field_image-link\"\r\n        id=\"card-input-link\"\r\n        placeholder=\"Image link\"\r\n        name=\"Image link\"\r\n        required\r\n        ref={inputLinkRef}\r\n      />\r\n      <span id=\"card-input-link-error\" className=\"modal__error-text\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { api } from \"../utils/api\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, openEditProfilePopup] = useState(false);\r\n  const [isAddPlacePopupOpen, openAddPlacePopup] = useState(false);\r\n  const [isEditAvatarPopupOpen, openEditAvatarPopup] = useState(false);\r\n  const [isImagePopupOpen, openImagePopup] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n\r\n  useEffect(() => {\r\n    api\r\n      .getUserInfo()\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n      })\r\n      .catch((err) => console.log(`Error.....: ${err}`));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    api\r\n      .getInitialCards()\r\n      .then((data) => {\r\n        setCards(data);\r\n      })\r\n      .catch((err) => console.log(`Error.....: ${err}`));\r\n  }, []);\r\n\r\n  function handleEditProfileClick() {\r\n    openEditProfilePopup(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    openAddPlacePopup(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    openEditAvatarPopup(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    openEditAvatarPopup(false);\r\n    openEditProfilePopup(false);\r\n    openAddPlacePopup(false);\r\n    openImagePopup(false);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    openImagePopup(true);\r\n  }\r\n\r\n  function handleUpdateUser(userNew) {\r\n    api.editProfile(userNew).then((data) => {\r\n      setCurrentUser(data);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function handleUpdateAvatar(newUrl) {\r\n    api.updateAvatar(newUrl).then((data) => {\r\n      setCurrentUser(data);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(place) {\r\n    api.addCardApi(place).then((data) => {\r\n      setCards([data, ...cards]);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    // Check one more time if this card was already liked\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    // Send a request to the API and getting the updated card data\r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n      setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\r\n    });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id);\r\n    const newCards = cards.filter((c) => c._id !== card._id);\r\n    setCards(newCards);\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <div className=\"page__container\">\r\n          <Header />\r\n          <Main\r\n            onEditProfileClick={handleEditProfileClick}\r\n            onAddPlaceClick={handleAddPlaceClick}\r\n            onEditAvatarClick={handleEditAvatarClick}\r\n            onCardClick={handleCardClick}\r\n            onClose={closeAllPopups}\r\n            cards={cards}\r\n            handleCardLike={handleCardLike}\r\n            handleCardDelete={handleCardDelete}\r\n          />\r\n          <Footer />\r\n\r\n          <EditProfilePopup\r\n            name=\"edit-profile\"\r\n            title=\"Edit Profile\"\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n          />\r\n\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          />\r\n\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlaceSubmit={handleAddPlaceSubmit}\r\n          />\r\n\r\n          <ImagePopup card={selectedCard} isOpen={isImagePopupOpen} onClose={closeAllPopups} />\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB9SURBVHgB7dbBCYAwDAXQ4ASO4CiO4AgdwQ10BDfqKBklpjRCKIiXfLzkQyi95PHppUSAiMiiU9tJqBjC0sMQbEAEgr0gTypF5AOJaZRIIokkksifiEEFjjjsRDY5/DKHxTaxhTxgezSyQt/CMuls7j7rFEJE+kfvas0ImBsR7skYWCY75QAAAABJRU5ErkJggg==\""],"sourceRoot":""}